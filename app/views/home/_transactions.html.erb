<script type="text/x-handlebars" id='show'>
    <div class="large-12 columns">

      <ul class="fatturas-listing">
          {{#each fattura in model}}
            {{#unless isDeleted}}
            <li>
                {{#link-to "fattura" fattura}}
                    {{fattura.name}}
                {{/link-to}}
            </li>
            {{else}}
            <li>no fatturas… :(</li>
            {{/unless}}
          {{/each}}
        </ul>
    </div>
    {{outlet}}
  </script>

 <script type="text/x-handlebars" id='fatturas'>
  <div class="row">
      <div class="large-12 columns">
        {{#link-to "fatturas.create" class="create-btn"}} Add Fattura {{/link-to}}
        {{#link-to "show" class="create-btn"}} Show Fatturas {{/link-to}}
      </div>

      <div class="large-12 columns">
        Fatturas: {{fatturasCount}}
      </div>

      <div class="large-12 columns">

        <ul class="fatturas-listing">
            {{#each fattura in model}}
            <li>
                {{#link-to "fattura" fattura}}
                    {{fattura.name}}
                {{/link-to}}
            </li>
            {{else}}
            <li>no fatturas… :(</li>
            {{/each}}
        </ul>
      </div>
      
      {{outlet}}
  </div>
  </script>

  <!-- single fattura template -->
  <script type="text/x-handlebars" id="fattura">
      <div class="fattura-profile">
          {{#if deleteMode}}
          <div class="confirm-box">
              <h5>Really?</h5>
              <button {{action "confirmDelete"}}> yes </button>
              <button {{action "cancelDelete"}}> no </button>
          </div>
          {{/if}}

          <button {{action "edit"}}>Edit</button>
          <button {{action "delete"}}>Delete</button>

          <h2>{{name}}</h2>
          <table>
            <tr>
              <th>Quantita</th>
              <th>Tariffa</th>
              <th>Totale</th>
              <th>Iva %</th>
              <th>Iva</th>
              <th>Totale + Iva</th>
            </tr>
            {{#each transactions}}
              <tr>
                <td>{{quantita}}</td>
                <td>{{tariffa}}</td>
                <td>{{netto}}</td>
                <td>{{iva}}</td>
                <td>{{ivamount}}</td>
                <td>{{lordo}}</td>
              </tr>
            {{/each}}
              <tr>
                <td></td>
                <td>Total Lordo</td>
                <td>{{transactionsAmounts}}</td>
                <td>Total Iva</td>
                <td>{{transactionsIvas}}</td>
                <td></td>
              </tr>
          </table>

      </div>
      
      {{outlet}}
  </script>

  <!-- single Fattura edit template - also used by the create route -->

  <script type="text/x-handlebars" id="fattura/edit">
      <div class="fattura-edit">
       <table class="table table-bordered table-hover">
        <tr>
          <th>Nome Fattura</th>
        </tr>
        <tr>
          <td>{{input valueBinding=name}}</td>
          <td><button {{action "save"}}> Send </button></td>
          <td>Num Trans {{numberTransactions}}</td>
          <td>Trans Selected {{transactionsChecked}}</td>
        </tr>
        {{#each model.transactions}}
          {{#unless isDeleted}}
          <tr>
            <td>Seleeziona</td>
            <td>Merce</td>
            <td>Tariffa</td>
            <td>Totale</td>
            <td>Iva %</td>
            <td>Iva</td>
            <td>Totale</td>
            <td></td>
          </tr>
          <tr>
            <td>{{input type="checkbox" value="isChecked" checked=isChecked}}</td>
            <td>{{view Em.TextField type="number" min="1" value=quantita}}</td>
            <td>{{view Ember.Select prompt="Tariffa" content=controller.selectContentTariffa optionValuePath="content.value" optionLabelPath="content.label" value=tariffa}}</td>
            <td>{{netto}}</td>
            <td>{{view Ember.Select prompt="Iva" content=controller.selectContentIva optionValuePath="content.value" optionLabelPath="content.label" value=iva}}</td>
            <td>{{ivamount}}</td>
            <td>{{lordo}}</td>
          </tr>
          {{/unless}}
         {{/each}}
         <tr>
          <td><button {{action "add"}}>Add</button></td>
          <td><button {{action "remove"}}>Remove</button></td>
          <td>Total</td>
          <td>{{transactionsAmounts}}</td>
          <td>Total Iva</td>
          <td>{{transactionsIvas}}</td>
          <td></td>
         </tr>
      </div>
  </script>


